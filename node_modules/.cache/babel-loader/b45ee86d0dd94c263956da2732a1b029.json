{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/react-food-app/code/react-food-app-1/src/components/Cart/CartItem.js\",\n    _s = $RefreshSig$();\n\nimport classes from './CartItem.module.css';\nimport CartContext from '../../store/cart-context';\nimport { useContext, Fragment, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CartItem() {\n  _s();\n\n  const ctx = useContext(CartContext);\n  const [itemAmount, setItemAmount] = useState(0);\n  const [items, setItems] = useState(ctx.items); // console.log(ctx.items)\n  // console.log(items)\n\n  const cartItems = items.map(item => {\n    const addHandler = event => {\n      let singleItem = {\n        id: item.id,\n        name: item.name,\n        description: item.description,\n        price: item.price,\n        amount: 1\n      };\n      ctx.addItem(singleItem); // console.log(\"item line 13,\",item)\n      // console.log(ctx)\n      // console.log(\"after adding: item amount is\",item.amount)\n\n      setItemAmount(item.amount // (itemAmount) => {return (itemAmount + 1)}\n      );\n    };\n\n    const removeHandler = event => {\n      console.log(item);\n      ctx.removeItem(item.id);\n      console.log(ctx);\n      setItemAmount(itemAmount => {\n        return itemAmount - 1;\n      });\n      console.log(\"after removing:item amount is\", item.amount, itemAmount);\n\n      if (itemAmount === 0) {\n        setItems(items => {\n          return items.filter(funcItem => funcItem.id !== item.id);\n        });\n      }\n    };\n\n    if (itemAmount === 0) setItemAmount(item.amount);\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      className: classes['cart-item'],\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.summary,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: classes.price,\n            children: item.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: classes.amount,\n            children: [\"x \", itemAmount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.actions,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: removeHandler,\n          children: \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addHandler,\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: cartItems\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 12\n  }, this);\n}\n\n_s(CartItem, \"f2qg+844rdoGDWPSP4pgUn06SB0=\");\n\n_c = CartItem;\nexport default CartItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartItem\");","map":{"version":3,"sources":["/Users/user/Desktop/react-food-app/code/react-food-app-1/src/components/Cart/CartItem.js"],"names":["classes","CartContext","useContext","Fragment","useState","CartItem","ctx","itemAmount","setItemAmount","items","setItems","cartItems","map","item","addHandler","event","singleItem","id","name","description","price","amount","addItem","removeHandler","console","log","removeItem","filter","funcItem","summary","actions"],"mappings":"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","sourcesContent":["import classes from './CartItem.module.css'\nimport CartContext from '../../store/cart-context'\nimport {useContext,Fragment, useState} from 'react'\n\nfunction CartItem() {\n    const ctx = useContext(CartContext)\n    const [itemAmount,setItemAmount]=useState(0)\n    const [items, setItems] = useState(ctx.items)\n    // console.log(ctx.items)\n    // console.log(items)\n    const cartItems = items.map ( item=> {\n        const addHandler = (event) => {\n            let singleItem = {id:item.id,\n            name:item.name,\n        description:item.description,price:item.price,\n    amount:1};\n    \n            ctx.addItem(singleItem)\n            // console.log(\"item line 13,\",item)\n            // console.log(ctx)\n            // console.log(\"after adding: item amount is\",item.amount)\n            setItemAmount(item.amount\n                // (itemAmount) => {return (itemAmount + 1)}\n                )\n        }\n        const removeHandler = (event) => {\n            console.log(item)\n            ctx.removeItem(item.id)\n            console.log(ctx)\n            setItemAmount((itemAmount) => {return (itemAmount - 1)})\n            console.log(\"after removing:item amount is\",item.amount, itemAmount)\n            if (itemAmount ===0) { setItems( items => { return items.filter( funcItem => funcItem.id !== item.id ) })}\n        }\n        if (itemAmount === 0) setItemAmount(item.amount)\n        return (\n            <li key={item.id} className={classes['cart-item']}>\n                <div>\n                    <h2>{item.name}</h2>\n                    <div className={classes.summary}>\n                        <span className={classes.price}>{item.price}</span>\n                        <span className={classes.amount}>x {itemAmount}</span>\n                    </div>\n                </div>\n                <div className={classes.actions}>\n                    <button onClick={removeHandler}>-</button>\n                    <button onClick={addHandler}>+</button>\n                </div>\n            </li>\n        )\n    })\n    return <Fragment>{cartItems}</Fragment>\n}\n\nexport default CartItem;"]},"metadata":{},"sourceType":"module"}